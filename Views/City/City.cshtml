@model DataTable
@using System.Data

<main>
    <!-- Table with hoverable rows -->
    <div class="card-md-9">
        <h1 class="text-center">City List</h1>
        <div class="my-3">
            <a class="btn btn-primary" asp-controller="City" asp-action="AddEditCity" >Add City</a>
        </div>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">CityID</th>
                    <th scope="col">CountryName</th>
                    <th scope="col">StateName</th>
                    <th scope="col">CityName</th>
                    <th scope="col">PinCode</th>
                    <th scope="col">Actions</th> <!-- Added column for actions -->
                </tr>
            </thead>
            <tbody>
                
                    @foreach (DataRow dataRow in Model.Rows)
                    {
                        <tr>
                            <td>@dataRow["CityID"]</td>
                        <td>@dataRow["CountryName"]</td>
                            <td>@dataRow["StateName"]</td>
                            <td>@dataRow["CityName"]</td>
                            <td>@dataRow["PinCode"]</td>
                            <td>
                            <a asp-controller="City" asp-action="AddEditCity" asp-route-CityID="@UrlEncryptor.Encrypt(dataRow["CityID"].ToString())"
                                   class="btn btn-outline-primary btn-sm mb-2">Edit</a>
                                
                                <a class="btn btn-outline-danger btn-xs" asp-controller="City" asp-action="CityDelete"
                                   asp-route-CityID="@UrlEncryptor.Encrypt(dataRow["CityID"].ToString())"
                                   onclick="return confirm('Are you sure you want to delete this city?');">
                                    Delete
                                </a>
                            </td>
                        </tr>
                    }
                
               
            </tbody>
        </table>
    </div>
</main>
